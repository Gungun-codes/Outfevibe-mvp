{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/Colledge%20study/Outfevibe-mvp-main/Outfevibe-mvp-main/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///D:/Colledge%20study/Outfevibe-mvp-main/Outfevibe-mvp-main/src/context/authContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useState, useEffect, useContext } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport type { User, Session } from \"@supabase/supabase-js\";\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    session: Session | null;\r\n    loading: boolean;\r\n    login: (email: string, password: string) => Promise<void>;\r\n    signup: (email: string, password: string, displayName: string) => Promise<void>;\r\n    loginWithGoogle: () => Promise<void>;\r\n    logout: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [session, setSession] = useState<Session | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Get initial session\r\n        supabase.auth.getSession().then(({ data: { session } }) => {\r\n            setSession(session);\r\n            setUser(session?.user ?? null);\r\n            setLoading(false);\r\n        });\r\n\r\n        // Listen for auth changes\r\n        const {\r\n            data: { subscription },\r\n        } = supabase.auth.onAuthStateChange((_event, session) => {\r\n            setSession(session);\r\n            setUser(session?.user ?? null);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, []);\r\n\r\n    const login = async (email: string, password: string) => {\r\n        const { error } = await supabase.auth.signInWithPassword({\r\n            email,\r\n            password,\r\n        });\r\n        if (error) throw error;\r\n    };\r\n\r\n    const signup = async (email: string, password: string, displayName: string) => {\r\n        const { data, error } = await supabase.auth.signUp({\r\n            email,\r\n            password,\r\n            options: {\r\n                data: {\r\n                    display_name: displayName,\r\n                },\r\n            },\r\n        });\r\n        if (error) throw error;\r\n\r\n        // Optionally store user data in users table\r\n        if (data.user) {\r\n            const { error: dbError } = await supabase\r\n                .from(\"users\")\r\n                .upsert({\r\n                    uid: data.user.id,\r\n                    email: data.user.email,\r\n                    display_name: displayName,\r\n                    created_at: new Date().toISOString(),\r\n                });\r\n            if (dbError) console.error(\"Error saving user to database:\", dbError);\r\n        }\r\n    };\r\n\r\n    const loginWithGoogle = async () => {\r\n        const { error } = await supabase.auth.signInWithOAuth({\r\n            provider: 'google',\r\n            options: {\r\n                redirectTo: `${window.location.origin}/`,\r\n            },\r\n        });\r\n        if (error) throw error;\r\n    };\r\n\r\n    const logout = async () => {\r\n        const { error } = await supabase.auth.signOut();\r\n        if (error) throw error;\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, session, loading, login, signup, loginWithGoogle, logout }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error(\"useAuth must be used within an AuthProvider\");\r\n    }\r\n    return context;\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAgBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACN,sBAAsB;QACtB,kIAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YAClD,WAAW;YACX,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACf;QAEA,0BAA0B;QAC1B,MAAM,EACF,MAAM,EAAE,YAAY,EAAE,EACzB,GAAG,kIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YACzC,WAAW;YACX,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACf;QAEA,OAAO,IAAM,aAAa,WAAW;IACzC,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe;QAChC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YACrD;YACA;QACJ;QACA,IAAI,OAAO,MAAM;IACrB;IAEA,MAAM,SAAS,OAAO,OAAe,UAAkB;QACnD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;YAC/C;YACA;YACA,SAAS;gBACL,MAAM;oBACF,cAAc;gBAClB;YACJ;QACJ;QACA,IAAI,OAAO,MAAM;QAEjB,4CAA4C;QAC5C,IAAI,KAAK,IAAI,EAAE;YACX,MAAM,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,kIAAQ,CACpC,IAAI,CAAC,SACL,MAAM,CAAC;gBACJ,KAAK,KAAK,IAAI,CAAC,EAAE;gBACjB,OAAO,KAAK,IAAI,CAAC,KAAK;gBACtB,cAAc;gBACd,YAAY,IAAI,OAAO,WAAW;YACtC;YACJ,IAAI,SAAS,QAAQ,KAAK,CAAC,kCAAkC;QACjE;IACJ;IAEA,MAAM,kBAAkB;QACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,eAAe,CAAC;YAClD,UAAU;YACV,SAAS;gBACL,YAAY,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5C;QACJ;QACA,IAAI,OAAO,MAAM;IACrB;IAEA,MAAM,SAAS;QACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C,IAAI,OAAO,MAAM;IACrB;IAEA,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAS;YAAO;YAAQ;YAAiB;QAAO;kBACzF;;;;;;AAGb;AAEO,MAAM,UAAU;IACnB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}}]
}